
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[68],{7936:(e,t,n)=>{"use strict";n.d(t,{C:()=>a});var o=n(11145);let a=()=>(0,o.A)("(max-width: 609px)",{noSsr:!0})},38984:(e,t,n)=>{"use strict";n.d(t,{l:()=>d});var o=n(95155),a=n(69242),s=n(88882),r=n(54581),l=n(3127),i=n(66766),c=n(93303);let u={close:{color:"inherit",m:.25,transition:n(62693).pt},dialog:{"& .MuiDialog-paper":{borderRadius:1.5,display:"flex",height:600,justifyContent:"space-between",letterSpacing:0,lineHeight:"normal",overflow:"hidden",padding:0,WebkitFontSmoothing:"auto",width:594}},heading:{mb:1,ml:2,mt:2},headingAndClose:{alignItems:"flex-start",display:"flex",justifyContent:"space-between"}},d=e=>{let{children:t,close:n,h1:d,h2:h,message:p,opening:x}=e;return(0,o.jsxs)(s.A,{onClick:e=>e.stopPropagation(),onClose:n||x.close,open:x.isOpen,sx:u.dialog,children:[(0,o.jsx)(i.default,{alt:"background",height:600,src:"/background.jpg",style:{opacity:.1,position:"absolute"},unoptimized:!0,width:594}),(0,o.jsxs)(r.default,{sx:u.headingAndClose,children:[(0,o.jsx)(c.D,{h1:d,h2:h,message:p,sx:u.heading}),(0,o.jsx)(l.A,{onClick:n||x.close,size:"large",sx:u.close,children:(0,o.jsx)(a.A,{})})]}),t]})}},47569:(e,t,n)=>{"use strict";n.d(t,{DownloadApp:()=>l});var o=n(95155),a=n(31960),s=n(12306);let r={link:{background:"url(/download.svg) top right no-repeat",color:"transparent",display:"inline-block",height:40,position:"relative",right:-1,textDecoration:"none",transition:n(62693).pt,width:120}},l=()=>(0,o.jsx)(a.default,{component:"a",href:"https://itunes.apple.com/app/apple-store/id343807473?pt=17385800&ct=realkana.com%2F&mt=8",id:"download",onMouseOut:s.Wd,onMouseOver:s.hs,sx:r.link,children:"Download on the App Store"})},51309:(e,t,n)=>{Promise.resolve().then(n.bind(n,84628))},62548:(e,t,n)=>{"use strict";n.d(t,{C:()=>s,L:()=>r});var o=n(35369),a=n(62693);let s=(0,o.A)({breakpoints:{values:{lg:1280,md:960,sm:610,xl:1920,xs:0}},components:{MuiButton:{styleOverrides:{root:e=>{let{ownerState:{color:t,variant:n}}=e;return{boxShadow:"none",fontWeight:700,padding:"1px 8px",..."primary"===t&&"contained"===n&&{backgroundColor:a.jd,borderColor:"#db0a1a",color:a.UE},..."secondary"===t&&"contained"!==n&&{color:a.Bv},"&:hover":{boxShadow:"none",..."primary"===t&&"contained"===n&&{backgroundColor:a.jd},..."secondary"===t&&"contained"!==n&&{backgroundColor:"transparent",color:a.Bv}}}}}},MuiButtonBase:{defaultProps:{disableRipple:!0}},MuiCssBaseline:{styleOverrides:{"@supports (-moz-appearance: none)":{h2:{marginTop:"3.5px !important"}},"a, div, input, label, span, td":{WebkitTapHighlightColor:"transparent"},body:{backgroundColor:"#f6e7e5",userSelect:"none"},table:{borderSpacing:0}}},MuiMenuItem:{styleOverrides:{root:{fontWeight:700}}}},typography:{fontFamily:"lucida grande, verdana, sans-serif"}}),{breakpoints:r}=s},65258:(e,t,n)=>{"use strict";n.d(t,{B:()=>p,U:()=>h});var o=n(95155),a=n(54596),s=n(12115),r=n(12306);let l=(0,s.createContext)(null),i=new Map([["isContinuousPlay",!1],["isRandomOrder",!0],["isRepeatProblemKana",!1],["isSpeedMode",!0],["preview",1],["typefaces",0],[r.CK.HIRAGANA,0],[r.CK.HIRAGANA_DOUBLE,0],[r.CK.HIRAGANA_WORDS,0],[r.CK.KATAKANA,0],[r.CK.KATAKANA_DOUBLE,0],[r.CK.KATAKANA_EXTENDED,0],[r.CK.KATAKANA_WORDS,0]]),c=new Map([["isContinuousPlay",e=>!!e===e],["isRandomOrder",e=>!!e===e],["isRepeatProblemKana",e=>!!e===e],["isSpeedMode",e=>!!e===e],["preview",e=>d(e,1,9)],["typefaces",e=>d(e,1,511)],[r.CK.HIRAGANA,e=>d(e,1,65535)],[r.CK.HIRAGANA_DOUBLE,e=>d(e,1,4095)],[r.CK.HIRAGANA_WORDS,e=>d(e,1,31)],[r.CK.KATAKANA,e=>d(e,1,65535)],[r.CK.KATAKANA_DOUBLE,e=>d(e,1,4095)],[r.CK.KATAKANA_EXTENDED,e=>d(e,1,16383)],[r.CK.KATAKANA_WORDS,e=>d(e,1,31)]]),u=e=>{let t=JSON.parse(window.localStorage.getItem(e));return c.get(e)(t)?t:(window.localStorage.removeItem(e),i.get(e))},d=(e,t,n)=>"number"==typeof e&&e===Math.floor(e)&&e>=t&&e<=n,h=()=>(0,a.g)(l),p=e=>{let{children:t}=e,[n,a]=(0,s.useState)(""),[c,d]=(0,s.useState)(0),[h,p]=(0,s.useState)(0),[x,g]=(0,s.useState)(0),[m,f]=(0,s.useState)(!1),[A,b]=(0,s.useState)(!1),[y,j]=(0,s.useState)(!0),[S,w]=(0,s.useState)(!1),[K,k]=(0,s.useState)(!0),[C,N]=(0,s.useState)(0),[T,E]=(0,s.useState)(0),[I,v]=(0,s.useState)(0),[D,O]=(0,s.useState)(0),[R,M]=(0,s.useState)(""),[W,H]=(0,s.useState)(0),[z,U]=(0,s.useState)(!1),[B,_]=(0,s.useState)(0),[L,P]=(0,s.useState)(0);(0,s.useEffect)(()=>{d(u(r.CK.HIRAGANA)),p(u(r.CK.HIRAGANA_DOUBLE)),g(u(r.CK.HIRAGANA_WORDS)),f(u("isContinuousPlay")),b(!0),j(u("isRandomOrder")),w(u("isRepeatProblemKana")),k(u("isSpeedMode")),N(u(r.CK.KATAKANA)),E(u(r.CK.KATAKANA_DOUBLE)),v(u(r.CK.KATAKANA_EXTENDED)),O(u(r.CK.KATAKANA_WORDS)),H(u("preview")),P(u("typefaces"))},[b]);let J=(0,s.useMemo)(()=>{let e=new Map([["error",a],["isContinuousPlay",f],["isMessageShowing",U],["isRandomOrder",j],["isRepeatProblemKana",w],["isSpeedMode",k],["message",M],["preview",H],["timestamp",_],["typefaces",P],[r.CK.HIRAGANA,d],[r.CK.HIRAGANA_DOUBLE,p],[r.CK.HIRAGANA_WORDS,g],[r.CK.KATAKANA,N],[r.CK.KATAKANA_DOUBLE,E],[r.CK.KATAKANA_EXTENDED,v],[r.CK.KATAKANA_WORDS,O]]);return{error:n,hiragana:c,hiraganaDouble:h,hiraganaWords:x,isContinuousPlay:m,isMessageShowing:z,isRandomOrder:y,isRepeatProblemKana:S,isSpeedMode:K,katakana:C,katakanaDouble:T,katakanaExtended:I,katakanaWords:D,message:R,preview:W,timestamp:B,typefaces:L,updateContext:t=>{Object.keys(t).forEach(n=>{i.has(n)&&window.localStorage.setItem(n,JSON.stringify(t[n])),e.get(n)(t[n])})}}},[n,c,h,x,m,z,y,S,K,C,T,I,D,R,W,B,L]);return(0,o.jsx)(l.Provider,{value:J,children:A?t:null})}},84628:(e,t,n)=>{"use strict";let o;n.d(t,{Study:()=>ez});var a=n(15933),s=n(95155),r=n(71116),l=n(31960),i=n(54581),c=n(6874),u=n.n(c),d=n(35695),h=n(12115),p=n(65258),x=n(87939),g=n(93303),m=n(23591),f=n(66050),A=n(60245),b=n.n(A),y=n(60784),j=n.n(y),S=n(67206),w=n.n(S),K=n(12306);function k(){let e=(0,a._)(["^","$"]);return k=function(){return e},e}let C={score:0,time:0,total:0},N="High Scores",T=(0,h.createContext)(null),E=()=>(Object.keys(window.localStorage).forEach(e=>{let t=e.match(new RegExp(String.raw(k(),K.hE))),n=window.localStorage.getItem(e);t&&"object"==typeof JSON.parse(n)&&(window.localStorage.removeItem(e),window.localStorage.setItem("".concat(t[1],"-").concat(t[2],"-0-").concat(t[3],"-").concat(t[4],"-").concat(t[5],"-0"),n))}),Object.keys(window.localStorage).filter(e=>e.match(new RegExp("^".concat(K._Y,"$")))&&"object"==typeof JSON.parse(window.localStorage.getItem(e))).sort((e,t)=>JSON.parse(window.localStorage.getItem(e)).when>JSON.parse(window.localStorage.getItem(t)).when?-1:1)),I=e=>{if(e>999999)return String(Math.floor(e/1e3));let t=String((e/1e3).toPrecision(3)).replace(/(\..*)0+$/,"$1");return t.endsWith(".")?"".concat(t,"0"):t},v=()=>{let e=(0,h.useContext)(T);if(null===e)throw Error("Context error.");return e},D=e=>{let{count:t,phase:n,right:o,shown:a}=e,{areHighScoresEnabled:s,highScore:r,highScoreKey:l,setHighScore:i,setHighScoreContent:c,setHighScoreKeys:u}=v(),[d,p]=(0,h.useState)(0);return(0,h.useLayoutEffect)(()=>{if(s&&n===K.Vw.RESTARTED){let e=Date.now()-d,t=o===a&&a>1&&(e<r.time||!r.time),n=o>r.score,s="";if(t||n){let d={...r,when:new Date().getTime()};t&&(d.time=e,s="".concat("Best Time",": ").concat(I(e),"!")),n&&(d.score=o,d.total=a,s="High Score!"),i(d),c(s),window.localStorage.setItem(l,JSON.stringify(d)),u(E())}else c(N)}},[s,t,l,n,o,i,c,u,a,d]),(0,m.I)(()=>{s&&n===K.Vw.STARTED&&(p(Date.now()),console.log(Math.random()))},[s,n]),null},O=e=>{let{children:t}=e,{hiragana:n,hiraganaDouble:o,hiraganaWords:a,isContinuousPlay:r,isRandomOrder:l,katakana:i,katakanaDouble:c,katakanaExtended:u,katakanaWords:d}=(0,p.U)(),[x,g]=(0,h.useState)(C),[m,f]=(0,h.useState)(""),[A,b]=(0,h.useState)(()=>E()),y=(0,h.useMemo)(()=>({areHighScoresEnabled:!r&&l,highScore:x,highScoreContent:m,highScoreKey:"".concat(n,"-").concat(o,"-").concat(a,"-").concat(i,"-").concat(c,"-").concat(u,"-").concat(d),highScoreKeys:A,setHighScore:g,setHighScoreContent:f,setHighScoreKeys:b}),[x,m,A,n,o,a,r,l,i,c,u,d]);return(0,h.useEffect)(()=>{let e=window.localStorage.getItem("".concat(n,"-").concat(o,"-").concat(a,"-").concat(i,"-").concat(c,"-").concat(u,"-").concat(d));g(e?JSON.parse(e):C)},[n,o,a,i,c,u,d]),(0,s.jsx)(T.Provider,{value:y,children:t})};var R=n(81803),M=n(69008),W=n(44296),H=n(17976),z=n(56033),U=n(90404),B=n(64263),_=n(99776),L=n(57791),P=n(3127),J=n(59865),G=n(77894),V=n(74964),F=n(44704),X=n(8093),Y=n(88882),$=n(95808),q=n(71977),Z=n(68534),Q=n(801),ee=n.n(Q),et=n(8561),en=n.n(et);let eo=e=>{let{callback:t,heading:n,noun:o="high score",opening:a,text:l,verb:i="delete"}=e;return(0,s.jsxs)(Y.A,{fullWidth:!0,maxWidth:"xs",onClose:a.close,open:a.isOpen,children:[(0,s.jsxs)($.A,{sx:{pl:2},children:[n&&(0,s.jsx)(r.default,{sx:{mb:2,textTransform:"uppercase"},variant:"h3",children:n}),(0,s.jsx)(r.default,{children:l||"".concat(ee()(i)," this ").concat(o,"?")})]}),(0,s.jsxs)(q.A,{sx:{pl:0,pr:2,py:2},children:[(0,s.jsx)(Z.A,{color:"secondary",onClick:e=>{e.stopPropagation(),a.close()},onMouseOut:K.Wd,onMouseOver:K.hs,children:"Cancel"}),(0,s.jsx)(Z.A,{color:"primary",onClick:e=>{e.stopPropagation(),t(),a.close()},onMouseOut:K.Wd,onMouseOver:K.hs,variant:"contained",children:en()(i)})]})]})};var ea=n(38984),es=n(47569),er=n(7936),el=n(62693);let ei={button:{"&.MuiIconButton-sizeMedium":{p:1.5},color:"inherit"},highScore:{bottom:30.5,left:16,letterSpacing:.5,position:"absolute",transform:"rotate(-90deg)",transformOrigin:"top left",transition:"opacity 0.1s ease-in-out"},table:{"& td":{"&:first-of-type":{pl:2},"&:last-child":{maxWidth:50,minWidth:50,pl:0,pr:.25,py:.25,width:50},px:.75,py:1.5},"& th":{"&:first-of-type":{pl:2},bgcolor:"transparent",fontWeight:700,pb:.75,pt:1.125,px:.75,textTransform:"uppercase"}}},ec=e=>{let{phase:t,setTopOpacity:n}=e,{highScoreContent:o,highScoreKeys:a}=v(),r=(0,er.C)(),l=(0,R.e)(),[c,u]=(0,h.useState)(0);return(0,s.jsxs)(s.Fragment,{children:[t===K.Vw.INITIAL?r?"":a.length?(0,s.jsx)(i.default,{component:"span",id:"button",onClick:l.open,onMouseOut:K.Wd,onMouseOver:K.hs,sx:el.ps.mainButtonWhite,children:N}):(0,s.jsx)(es.DownloadApp,{}):"",o&&!r&&t===K.Vw.RESTARTED?(0,s.jsx)(i.default,{onClick:l.open,sx:ei.highScore,children:(0,s.jsx)(i.default,{component:"span",onMouseOut:K.Wd,onMouseOver:K.hs,sx:el.ps.mainButtonWhite,children:o})}):"",(0,s.jsxs)(ea.l,{close:()=>{l.close(),window.setTimeout(()=>{document.querySelector("input").focus(),u(0)},200)},h1:"High Scores",h2:"Real Kana",opening:l,children:[(0,s.jsx)(W.A,{sx:{flexGrow:1,zIndex:1},children:(0,s.jsxs)(H.A,{sx:ei.table,children:[(0,s.jsx)(z.A,{children:(0,s.jsxs)(U.A,{children:[(0,s.jsx)(B.A,{children:"Set"}),(0,s.jsx)(B.A,{align:"center",children:"Score"}),(0,s.jsx)(B.A,{align:"center",children:"Time"}),(0,s.jsx)(B.A,{align:"right",sx:{pr:2},children:"When"}),(0,s.jsx)(B.A,{})]})}),(0,s.jsx)(_.A,{children:a.length?a.slice(c*K.kc,c*K.kc+K.kc).map((e,t)=>(0,s.jsx)(eu,{index:c*K.kc+t,page:c,setPage:u,setTopOpacity:n},e)):(0,s.jsx)(ed,{})})]})}),a.length?(0,s.jsx)(L.A,{component:"div",count:a.length,labelDisplayedRows:e=>(0,K.Xd)(e,"high score".concat(1===a.length?"":"s")),onPageChange:(e,t)=>u(t),page:c,rowsPerPage:K.kc,rowsPerPageOptions:[],sx:{"& .MuiIconButton-sizeMedium":{p:1.5}}}):null]})]})},eu=e=>{let{index:t,page:n,setPage:o,setTopOpacity:a}=e,{updateContext:r}=(0,p.U)(),{highScoreKey:i,highScoreKeys:c,setHighScore:d,setHighScoreContent:x,setHighScoreKeys:g}=v(),m=(0,R.e)(),f=(0,R.e)(),A=()=>{a("1"),r({timestamp:Date.now()})},b=c[t],y=JSON.parse(window.localStorage.getItem(b)),j=(0,h.useMemo)(()=>(0,F.B)(y.when,{addSuffix:!0,locale:X.c}),[y.when]);return(0,s.jsxs)(U.A,{children:[(0,s.jsx)(B.A,{children:(0,s.jsx)(l.default,{component:u(),href:"?set=".concat(b),onClick:A,onMouseOut:K.Wd,onMouseOver:K.hs,sx:{...el.ps.mainButton,fontWeight:"normal"},children:b.replaceAll("-","\xb7")})}),(0,s.jsx)(B.A,{align:"center",children:"".concat(y.score,"/").concat(y.total)}),(0,s.jsx)(B.A,{align:"center",children:"".concat(y.time?I(y.time):"–")}),(0,s.jsx)(B.A,{align:"right",sx:{pr:2,whiteSpace:"nowrap"},children:j}),(0,s.jsxs)(B.A,{children:[(0,s.jsx)(P.A,{onClick:m.open,sx:ei.button,children:(0,s.jsx)(M.A,{})}),(0,s.jsxs)(J.A,{anchorEl:m.anchor,onClose:m.close,open:m.isOpen,sx:{"& li":{fontSize:14}},children:[(0,s.jsx)(G.A,{children:(0,s.jsx)(l.default,{component:u(),href:"?set=".concat(b),onClick:A,sx:el.ps.raw,children:"Repeat Set"})}),(0,s.jsx)(V.A,{}),(0,s.jsx)(G.A,{onClick:f.open,sx:{color:el.jd},children:"Delete High Score"})]}),(0,s.jsx)(eo,{callback:()=>{c[t]===i&&(d(C),x("")),window.localStorage.removeItem(b);let e=E();g(e),n&&e.length<n*K.kc+1&&o(n-1),m.close()},opening:f})]})]})},ed=()=>(0,s.jsx)(U.A,{children:(0,s.jsx)(B.A,{colSpan:5,sx:{p:"14px 16px 15px !important"},children:"No high scores."})});var eh=n(66766);let ep=e=>{let{kana:t,typeface:n}=e;return(0,s.jsx)(s.Fragment,{children:t[0].split("").map((e,t)=>(0,s.jsx)(i.default,{sx:{display:"inline-block",height:50,overflow:"hidden",width:50},children:(0,s.jsx)(eh.default,{alt:e,height:800,quality:100,src:"/kana-50.png",style:{left:"-".concat(50*K.Yk.get(e)[0]+(n-1)*500,"px"),position:"relative",top:"-".concat(50*K.Yk.get(e)[1],"px")},unoptimized:!0,width:4500})},t))})};var ex=n(62548);let eg=e=>{let{phase:t}=e;return(0,s.jsx)(l.default,{component:"a",href:"https://web.archive.org/web/20250614084043/https://realkanji.com",onMouseOut:K.Wd,onMouseOver:K.hs,sx:{...el.ps.mainButtonWhite,[ex.L.down("sm")]:{visibility:K.Jm.HIDDEN},...void 0!==t&&{visibility:t===K.Vw.INITIAL?K.Jm.VISIBLE:K.Jm.HIDDEN}},children:"Real Kanji"})},em=e=>{let[t,n]=(0,h.useState)(e),[o,a]=(0,h.useState)([,,,,,].fill(null));return{conditionallyAdd:e=>{if(t&&!o.includes(e)){let t=o.indexOf(null);-1!==t&&a(n=>n.map((n,o)=>o===t?e:n))}},conditionallyChoose:e=>{let n=null;if(t)do o[n=Math.floor(5*Math.random())]===e?n=null:null!==o[n]&&a(e=>e.map((e,t)=>t===n?null:e));while(null===n);return null!==n?o[n]:null},reinitializeRepeat:e=>{n(e),a([,,,,,].fill(null))}}},ef=[],eA=()=>(ef.length>1&&(o=o===ef.length-1?0:o+1),ef[o]),eb=()=>{let e;if(ef.length>1){do e=Math.floor(Math.random()*ef.length);while(ef[e]===ef[o]);o=e}return ef[o]},ey=(e,t)=>{let n,a=9;for(ef=[];a;)e>=(n=2**--a)&&(e-=n,ef.push(a+1));return ef=ef.reverse(),o=t?Math.floor(Math.random()*ef.length):0,ef[o]},ej=new Map([["し",["si"]],["シ",["si"]],["じ",["zi"]],["ジ",["zi"]],["しゃ",["sya"]],["シャ",["sya"]],["じゃ",["zya","jya"]],["ジャ",["zya","jya"]],["しゅ",["syu"]],["シュ",["syu"]],["じゅ",["zyu","jyu"]],["ジュ",["zyu","jyu"]],["しょ",["syo"]],["ショ",["syo"]],["じょ",["zyo","jyo"]],["ジョ",["zyo","jyo"]],["ち",["ti"]],["チ",["ti"]],["ぢ",["di","dzi"]],["ヂ",["di"]],["ちゃ",["tya"]],["チャ",["tya"]],["ぢゃ",["zya","dya"]],["ヂャ",["zya","dya"]],["ちゅ",["tyu"]],["チュ",["tyu"]],["ぢゅ",["zyu","dyu"]],["ヂュ",["zyu","dyu"]],["ちょ",["tyo"]],["チョ",["tyo"]],["ぢょ",["zyo","dyo"]],["ヂョ",["zyo","dyo"]],["つ",["tu"]],["ツ",["tu"]],["づ",["du","dzu"]],["ヅ",["du"]],["ふ",["hu"]],["フ",["hu"]],["を",["o"]],["ヲ",["o"]]]),eS=new Set(["n","N"]),ew=new Set(["a","A","e","E","i","I","o","O","u","U"]),eK={"& .MuiInputBase-input":{"&:focus":{bgcolor:"transparent",boxShadow:"none",color:el.Uv},appearance:"none",bgcolor:el.UE,borderRadius:1.75,borderWidth:0,boxShadow:"0 0 15px 0 rgba(205, 205, 205, 0.95)",boxSizing:"border-box",color:el.UE,fontSize:16,fontWeight:700,height:33,outline:"none",pb:.5,pt:.375,px:0,textAlign:"center",width:40,zIndex:668},"& .MuiOutlinedInput-notchedOutline":{border:"none"},bottom:16,left:"50%",ml:-2.5,position:"absolute",[el.Tu]:{bottom:8}},ek={bgcolor:el.UE,border:"1px solid ".concat(el.mR[300]),borderRadius:1,bottom:16,color:el.mR[600],fontSize:14,fontWeight:700,pl:.75,position:"absolute",pr:.875,py:.375,textTransform:"uppercase"},eC={input:eK,inputWide:{...eK,"& .MuiInputBase-input":{...eK["& .MuiInputBase-input"],width:130},ml:-8.125},right:{...ek,left:16,[el.Tu]:{bottom:8,left:8}},shown:{...ek,right:16,[el.Tu]:{bottom:8,right:8}}},eN=new Map([["hu","fu"],["jya","ja"],["jyo","jo"],["jyu","ju"],["si","shi"],["sya","sha"],["syo","sho"],["syu","shu"],["ti","chi"],["tu","tsu"],["tya","cha"],["tyo","cho"],["tyu","chu"],["wo","o"],["zya","ja"],["zyo","jo"],["zyu","ju"]]),eT=e=>{var t;return((null==(t=e.match(/[aiueo]/g))?void 0:t.length)!==1||"n"===e.slice(-1))&&"n"!==e},eE=(e,t)=>{if(e.length>1){let n;do n=j()(e);while(n[0][0]===e[e.length-1][0]);t(n)}},eI=e=>{let{initialKanas:t,setTopOpacity:n}=e,{hiraganaWords:o,isContinuousPlay:a,isRandomOrder:r,isRepeatProblemKana:l,isSpeedMode:c,katakanaWords:u,typefaces:d}=(0,p.U)(),x=(0,er.C)(),{conditionallyAdd:g,conditionallyChoose:A,reinitializeRepeat:y}=em(l),[S,k]=(0,h.useState)(K.Jm.HIDDEN),[C,N]=(0,h.useState)(0),[T,E]=(0,h.useState)(K.Jm.HIDDEN),[I,v]=(0,h.useState)(""),[O,R]=(0,h.useState)(!0),[M,W]=(0,h.useState)(()=>r?j()(t):t),[H,z]=(0,h.useState)(0),[U,B]=(0,h.useState)(K.Vw.INITIAL),[_,L]=(0,h.useState)(""),[P,J]=(0,h.useState)(null),[G,V]=(0,h.useState)(0),[F,X]=(0,h.useState)(0),[Y,$]=(0,h.useState)(()=>ey(d,!0));(0,m.I)(()=>{b()(w()(t),w()(M))||W(r?j()(t):t)},[t,r,M]);let q=(0,h.useMemo)(()=>({fontWeight:700,left:0,position:"absolute",textAlign:"center",top:"55%",visibility:S,width:"100%",[el.Tu]:{top:"60%"}}),[S]),Z=(0,h.useCallback)(()=>({...U===K.Vw.RESTARTED&&{bgcolor:el.bt,borderColor:el.bt,color:el.UE},visibility:U===K.Vw.INITIAL?K.Jm.HIDDEN:K.Jm.VISIBLE}),[U]),Q=e=>!!e.repeat&&("Backspace"!==e.key&&e.preventDefault(),!0),ee=e=>"Enter"===e.key||" "===e.key||!eT(M[eo][1])&&c&&(ew.has(e.key)||eS.has(e.key)&&"n"===M[eo][1]),et=e=>O&&null===P?e?1:G+1:e?0:G,en=e=>e?1:null!==P?F:F+1,eo=null===P?H:P;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.default,{sx:{height:50,left:0,marginTop:-5.625,position:"absolute",textAlign:"center",top:"50%",width:"100%"},children:(0,s.jsx)(i.default,{onClick:()=>$(eA()),sx:{cursor:"pointer",display:"inline-block",lineHeight:0},children:(0,s.jsx)(ep,{kana:M[eo],typeface:Y})})}),(0,s.jsx)(i.default,{sx:q,children:M[eo][1]}),(0,s.jsx)(i.default,{sx:{...q,color:el.jd,fontSize:24,mt:-.5,visibility:T},children:"\xd7"}),(0,s.jsxs)(i.default,{sx:el._N.main,children:[(0,s.jsx)(eg,{phase:U}),(0,s.jsx)(i.default,{sx:{...eC.shown,...Z()},children:(0,s.jsx)(ev,{count:F,label:"Shown"})}),(0,s.jsx)(f.A,{autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",autoFocus:!x,inputProps:{maxLength:o||u?17:3,name:"g-".concat(Math.random()),onKeyDown:e=>" "===e.key&&e.preventDefault(),onKeyUp:e=>{if(!Q(e))if(ee(e)){var t,o;if(S===K.Jm.VISIBLE||I===M[eo][1]||(null==(t=ej.get(M[eo][0]))?void 0:t.includes(I))||(null==(o=I.match(/([^aiueo]*[aiueo])/g))?void 0:o.reduce((e,t)=>e+(eN.get(t)||t),""))===M[eo][1]){let e=!a&&0===H;V(et(e)),X(en(e));let t=H===M.length-1;if(t)y(l),r&&eE(M,W),N(C+1),z(0);else{let e=A(eo);J(e),null===e&&z(H+1)}k(K.Jm.HIDDEN),E(K.Jm.HIDDEN),R(!0),v(""),B(!a&&t?K.Vw.RESTARTED:K.Vw.STARTED),L(""),n("0"),$(eb())}else R(!1),g(eo),I===_?(k(K.Jm.VISIBLE),E(K.Jm.HIDDEN)):(L(I),E(K.Jm.VISIBLE))}else L("")},spellCheck:!1},onChange:e=>v(e.currentTarget.value.trim().toLowerCase()),onFocus:()=>scrollTo(0,0),sx:o||u?eC.inputWide:eC.input,value:I}),(0,s.jsx)(i.default,{sx:{...eC.right,...Z()},children:(0,s.jsx)(ev,{count:G,label:"Right"})}),(0,s.jsx)(D,{count:C,phase:U,right:G,setTopOpacity:n,shown:F}),(0,s.jsx)(ec,{phase:U,setTopOpacity:n})]})]})},ev=e=>{let{count:t,label:n}=e;return(0,s.jsxs)(s.Fragment,{children:[t," ",n]})},eD=e=>{let{count:t}=e,{areHighScoresEnabled:n,highScore:o}=v();return n?o.score?o.time||1===t?(0,s.jsxs)(r.default,{children:[(0,s.jsx)(s.Fragment,{children:"Perfect "}),(0,s.jsx)(l.default,{component:u(),href:"/extra",sx:el.ps.plain,children:"high score"}),(0,s.jsxs)(s.Fragment,{children:[" ","for this set.".concat(1===t?"":" Your best time is ".concat(I(o.time)," seconds."))]})]}):(0,s.jsxs)(r.default,{children:[(0,s.jsx)(s.Fragment,{children:"Your "}),(0,s.jsx)(l.default,{component:u(),href:"/extra",sx:el.ps.plain,children:"high score"})," for this set is ".concat(o.score,"/").concat(o.total,".")]}):(0,s.jsxs)(r.default,{children:[(0,s.jsx)(l.default,{component:u(),href:"/extra",sx:el.ps.plain,children:"High scores"}),(0,s.jsx)(s.Fragment,{children:" are enabled."})]}):null};function eO(){let e=(0,a._)(["^","$"]);return eO=function(){return e},e}function eR(){let e=(0,a._)(["^","$"]);return eR=function(){return e},e}let eM={circle:{backgroundImage:"radial-gradient(rgba(255, 255, 255, 0.85) 40%, rgba(255, 255, 255, 0) 70%)",height:300,left:0,marginTop:-18.125,position:"absolute",top:"50%",width:"100%",[el.Tu]:{display:"none"}},mobile:{[el.Tu]:{display:"none"}}},eW=(e,t,n,o,a,s,r)=>{let l=[[K.CK.KATAKANA_WORDS,r],[K.CK.KATAKANA_EXTENDED,s],[K.CK.KATAKANA_DOUBLE,a],[K.CK.KATAKANA,o],[K.CK.HIRAGANA_WORDS,n],[K.CK.HIRAGANA_DOUBLE,t],[K.CK.HIRAGANA,e]],i=[];return l.forEach(e=>{let t=K.Nb.get(e[0]).columns;for(;t;){let n=2**--t;e[1]>=n&&(e[1]-=n,i=K.cZ[t+K.Nb.get(e[0]).offset].concat(i))}}),i},eH=()=>{let{hiraganaWords:e,isSpeedMode:t,katakanaWords:n}=(0,p.U)();return t?(0,s.jsxs)(r.default,{children:[(0,s.jsx)(l.default,{component:u(),href:"/extra",sx:el.ps.plain,children:"Speed mode"}),e||n?" is enabled for characters. Use the spacebar to submit words.":" is enabled. Use the spacebar to see the answer."]}):(0,s.jsx)(r.default,{children:"Use the spacebar to submit your guess and/or see the answer."})},ez=e=>{let{searchParams:t}=e,{hiragana:n,hiraganaDouble:o,hiraganaWords:a,katakana:l,katakanaDouble:c,katakanaExtended:u,katakanaWords:m,timestamp:f,typefaces:A,updateContext:b}=(0,p.U)(),y=(0,d.usePathname)(),{replace:j}=(0,d.useRouter)(),[S,w]=(0,h.useState)(!1),[k,C]=(0,h.useState)([]),[N,T]=(0,h.useState)("1"),E=(0,h.useMemo)(()=>"".concat(k.length," ").concat([...n||o||a?["Hiragana"]:[],...l||c||u||m?["Katakana"]:[]].join("/")," ").concat([...n||o||l||c||u?["Character".concat(1===k.length?"":"s")]:[],...a||m?[1===k.length?"Word":"Words"]:[]].join("/")),[n,o,a,l,c,u,m,k.length]);return(0,h.useEffect)(()=>{var e,n;let o=null==(e=t.set)?void 0:e.match(new RegExp(String.raw(eO(),K.hE)));o?(b({hiragana:Number(o[1]),hiraganaDouble:Number(o[2]),hiraganaWords:0,katakana:Number(o[3]),katakanaDouble:Number(o[4]),katakanaExtended:Number(o[5]),katakanaWords:0}),j(y)):(o=null==(n=t.set)?void 0:n.match(new RegExp(String.raw(eR(),K._Y))))&&(b({hiragana:Number(o[1]),hiraganaDouble:Number(o[2]),hiraganaWords:Number(o[3]),katakana:Number(o[4]),katakanaDouble:Number(o[5]),katakanaExtended:Number(o[6]),katakanaWords:Number(o[7])}),j(y))},[y,j,t.set,b]),(0,h.useEffect)(()=>{A||b({typefaces:1})},[A,b]),(0,h.useLayoutEffect)(()=>{n||o||a||l||c||u||m?(w(!!(a||m)),C(eW(n,o,a,l,c,u,m))):b({hiragana:1})},[n,o,a,l,c,u,m,b]),(0,s.jsx)(x.Base,{tab:"study",children:(0,s.jsxs)(O,{children:[(0,s.jsx)(i.default,{sx:{...el.wv.main,opacity:N},children:(0,s.jsxs)(i.default,{sx:eM.mobile,children:[(0,s.jsx)(g.D,{h1:"Study",message:E}),(0,s.jsx)(r.default,{children:"Type this character’s rōmaji equivalent."}),(0,s.jsx)(eD,{count:k.length}),(0,s.jsx)(eH,{})]})}),(0,s.jsx)(i.default,{sx:eM.circle}),k.length&&A?(0,s.jsx)(eI,{hasWords:S,initialKanas:k,setTopOpacity:T}):null]})},f)}},87939:(e,t,n)=>{"use strict";n.d(t,{Base:()=>m,Scrolling:()=>f});var o=n(95155),a=n(54581),s=n(63148),r=n(99204),l=n(31960),i=n(801),c=n.n(i),u=n(6874),d=n.n(u),h=n(12115),p=n(12306),x=n(62693);let g=[{link:"/",tab:p.tU.INTRO},{link:"/hiragana.html",tab:p.tU.HIRAGANA},{link:"/katakana.html",tab:p.tU.KATAKANA},{link:"/study.html",tab:p.tU.STUDY},{link:"/extra.html",tab:p.tU.EXTRA},{isHiddenMobile:!0,link:"/blog",tab:p.tU.BLOG},{link:"/app",tab:p.tU.APP}],m=e=>{let{children:t,tab:n=""}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(A,{tab:n}),(0,o.jsx)(a.default,{sx:{display:"flex",flexDirection:"column",flexGrow:1,flexShrink:0,justifyContent:"space-between",minHeight:175,padding:2,position:"relative",[x.Tu]:{padding:1}},children:t})]})},f=e=>{let{children:t}=e;return(0,o.jsx)(a.default,{maxHeight:364,sx:{"::-webkit-scrollbar":{width:7},"::-webkit-scrollbar-thumb":{bgcolor:"#ddd",borderRadius:3.5},overflowY:"auto"},children:t})},A=e=>{let{tab:t}=e,n=(0,h.useMemo)(()=>({"& > div":{display:"inline-block",transition:x.pt},boxShadow:"inset 0 -5px 5px 0 #e3e9f4",display:"block",lineHeight:"37px",textAlign:"center",transition:"none"}),[]),i=(0,h.useMemo)(()=>({...n,boxShadow:"none",height:40}),[n]),u=(0,h.useMemo)(()=>({[x.Tu]:{display:"none !important"}}),[]),m=(0,h.useMemo)(()=>({"&:first-of-type, &:first-of-type > *":{borderLeftWidth:0,borderTopLeftRadius:6},"&:last-child, &:last-child > *":{borderTopRightRadius:6},bgcolor:x.UE,border:"3px solid #b6cbf3",borderRightWidth:0,borderTopWidth:0,display:"unset",flexGrow:1,p:0,width:"unset",[x.Tu]:{"&:nth-of-type(2) > a::before":{content:'"ひ"',fontSize:16,lineHeight:0},"&:nth-of-type(3) > a::before":{content:'"カ"',fontSize:16,lineHeight:0}}}),[]),f=(0,h.useMemo)(()=>({...m,bgcolor:"none",borderBottomWidth:0,[x.Tu]:{"&:nth-of-type(2) > a::before":{content:'"ひ"',fontSize:16,lineHeight:0},"&:nth-of-type(3) > a::before":{content:'"カ"',fontSize:16,lineHeight:0}}}),[m]),A=e=>{let t=e.currentTarget.children[0].offsetWidth,n=((t+1)/t+x.Xt)/2;e.currentTarget.children[0].style.transform="scale(".concat(n,")")},b=e=>e.currentTarget.children[0].style.transform="scale(".concat(x.hv,")"),y=(0,h.useCallback)(e=>{null!==e&&A({currentTarget:e})},[]);return(0,o.jsx)(s.default,{sx:{display:"flex",height:40,listStyleType:"none",m:0,p:0},children:g.map((e,s)=>e.tab===t?(0,o.jsx)(r.default,{sx:{...f,...e.isHiddenMobile&&u},children:(0,o.jsx)(l.default,{component:d(),href:e.link,ref:y,sx:{...x.ps.main,...n,...i},children:(0,o.jsx)(a.default,{sx:{...(e.tab===p.tU.HIRAGANA||e.tab===p.tU.KATAKANA)&&u},children:c()(e.tab)})})},s):(0,o.jsx)(r.default,{sx:{...m,...e.isHiddenMobile&&u},children:(0,o.jsx)(l.default,{component:d(),href:e.link,onMouseOut:b,onMouseOver:A,sx:{...x.ps.main,...n},children:(0,o.jsx)(a.default,{sx:{...(e.tab===p.tU.HIRAGANA||e.tab===p.tU.KATAKANA)&&u},children:c()(e.tab)})})},s))})}},93303:(e,t,n)=>{"use strict";n.d(t,{D:()=>c});var o=n(95155),a=n(54581),s=n(66766),r=n(62693);let l=e=>{let{children:t}=e;return(0,o.jsx)(a.default,{component:"h1",sx:{color:r.yJ,fontSize:24,mb:0,mt:-.625},children:t})},i=e=>{let{children:t}=e;return(0,o.jsx)(a.default,{component:"h2",sx:{color:r.bt,fontSize:18,mb:0,mt:.5,[r.Tu]:{mt:0}},children:t})},c=e=>{let{h1:t,h2:n,message:c,sx:u={}}=e;return(0,o.jsxs)(a.default,{sx:{display:"flex",mb:1.75,mt:.25,...u},children:[(0,o.jsx)(s.default,{alt:"Real Kana logo",height:45,src:"/logo.png",style:{borderRadius:2,zIndex:1},unoptimized:!0,width:45}),(0,o.jsxs)(a.default,{sx:{ml:1.625,[r.Tu]:{ml:1}},children:[(0,o.jsx)(l,{children:t}),(0,o.jsx)(i,{children:n||c})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[163,359,477,483,129,347,441,684,358],()=>t(51309)),_N_E=e.O()}]);

/*
     FILE ARCHIVED ON 08:40:43 Jun 14, 2025 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 02:44:06 Nov 05, 2025.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  captures_list: 4.249
  exclusion.robots: 0.027
  exclusion.robots.policy: 0.012
  esindex: 0.015
  cdx.remote: 22.373
  LoadShardBlock: 89.644 (3)
  PetaboxLoader3.datanode: 83.816 (4)
  load_resource: 355.199
  PetaboxLoader3.resolve: 122.912
*/